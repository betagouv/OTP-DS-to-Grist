<!-- Zone d'exécution -->
<div id="sync_progress_container" class="fr-card fr-card--light-grey fr-mb-4w fr-card--no-border" style="display: none;">
    <div class="fr-card__body">
        <div class="fr-card__content">
            <h2 class="fr-card__title">Synchronisation</h2>
            
            <!-- Progression -->
            <div id="sync_progress" style="display: none;" class="fr-mt-4w">
                <div class="fr-mb-2w">
                    <div class="fr-grid-row fr-grid-row--middle">
                        <div class="fr-col">
                            <span class="fr-text--bold">Progression</span>
                        </div>
                        <div class="fr-col-auto">
                            <span id="progress_percentage" class="fr-badge fr-badge--blue-ecume">0%</span>
                        </div>
                    </div>
                    <div class="fr-mt-1w">
                        <div style="background-color: var(--blue-france-sun-113); height: 8px; border-radius: 4px; overflow: hidden;">
                            <div id="progress_bar" class="progress-bar" style="width: 0%; height: 100%; transition: width 0.3s ease;"></div>
                        </div>
                    </div>
                </div>
                
                <div class="fr-mb-2w">
                    <div class="fr-alert fr-alert--info">
                        <p id="current_status">Initialisation...</p>
                    </div>
                </div>

                <!-- Statistiques en temps réel -->
                <div id="sync_stats" class="fr-mb-4w">
                    <div class="fr-grid-row fr-grid-row--gutters">
                        <div class="fr-col-6 fr-col-md-3">
                            <div class="fr-card fr-card--grey">
                                <div class="fr-card__body">
                                    <div class="fr-card__content fr-border-bottom fr-border-black fr-border-width--4px">
                                        <p id="processed_count" class="fr-text--bold fr-text--lg fr-text--center fr-mb-2v">0</p>
                                        <div class="fr-grid-row fr-grid-row--middle fr-text--center">
                                            <div class="fr-col">
                                                <p class="fr-mb-0">Dossiers déposés synchronisés</p>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="fr-col-6 fr-col-md-3">
                            <div class="fr-card fr-card--grey">
                                <div class="fr-card__body">
                                    <div class="fr-card__content fr-border-bottom fr-border-black fr-border-width--4px">
                                        <p id="elapsed_time" class="fr-text--bold fr-text--lg fr-text--center fr-mb-2v">0s</p>
                                        <div class="fr-grid-row fr-grid-row--middle fr-text--center">
                                            <div class="fr-col">
                                                <p class="fr-mb-0">Temps écoulé</p>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="fr-col-6 fr-col-md-3">
                            <div class="fr-card fr-card--grey">
                                <div class="fr-card__body">
                                    <div class="fr-card__content fr-border-bottom fr-border-black fr-border-width--4px">
                                        <p id="processing_speed" class="fr-text--bold fr-text--lg fr-text--center fr-mb-2v">-</p>
                                        <div class="fr-grid-row fr-grid-row--middle">
                                            <div class="fr-col">
                                                <p class="fr-mb-0">Vitesse traitement</p>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="fr-col-6 fr-col-md-3">
                            <div class="fr-card fr-card--grey">
                                <div class="fr-card__body">
                                    <div class="fr-card__content fr-border-bottom fr-border-black fr-border-width--4px">
                                        <p id="eta" class="fr-text--bold fr-text--lg fr-text--center fr-mb-2v">-</p>
                                        <div class="fr-grid-row fr-grid-row--middle">
                                            <div class="fr-col">
                                                <p class="fr-mb-0">Temps restant</p>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Logs en temps réel -->
                <div class="fr-mb-4w">
                    <button class="fr-btn fr-btn--tertiary-no-outline" onclick="logsVisible = toggleLogs(logsVisible)">
                        <span id="logs_toggle_text">Afficher les logs</span>
                        (<span id="logs_count">0</span>)
                    </button>
                    <div id="logs_container" class="log-area fr-mt-2w" style="display: none; height: 300px;">
                        <div id="logs_content"></div>
                    </div>
                </div>
            </div>

            <!-- Résultat final -->
            <div id="sync_result" style="display: none;" class="fr-mt-4w">
                <div id="result_content"></div>
            </div>
        </div>
    </div>
</div>
